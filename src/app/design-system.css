/* =============================================================================
   DESIGN SYSTEM - LUNARA COSMIC
   Semantic utility classes using Tailwind @apply
   Import this in globals.css
   ============================================================================= */

/* -----------------------------------------------------------------------------
   BUTTONS
   ----------------------------------------------------------------------------- */

.btn-primary {
  @apply px-4 py-2 rounded-lg font-medium transition-all inline-flex items-center gap-2 text-white hover:opacity-90 shadow-lg;
  background: var(--gradient-ember);
  box-shadow: 0 4px 6px -1px rgba(184, 106, 75, 0.25);
}

.btn-primary:hover {
  box-shadow: 0 6px 10px -2px rgba(184, 106, 75, 0.35);
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-secondary {
  @apply px-4 py-2 rounded-lg font-medium transition-all inline-flex items-center gap-2;
  background-color: var(--background-elevated);
  color: var(--foreground);
  border: 1px solid var(--border);
}

.btn-secondary:hover {
  background-color: var(--hover-overlay);
  border-color: var(--celestial-400);
}

.btn-ghost {
  @apply px-4 py-2 rounded-lg font-medium transition-all inline-flex items-center gap-2 bg-transparent;
  color: var(--foreground-muted);
}

.btn-ghost:hover {
  background-color: var(--hover-overlay);
  color: var(--foreground);
}

.btn-danger {
  @apply px-4 py-2 rounded-lg font-medium transition-all inline-flex items-center gap-2 text-white;
  background-color: var(--error);
}

.btn-danger:hover {
  background-color: var(--error-dark);
}

.btn-sm {
  @apply px-3 py-1.5 text-sm rounded-lg font-medium transition-all inline-flex items-center gap-1.5;
}

/* Pill buttons (rounded-full) */
.btn-pill {
  @apply px-4 py-2 rounded-full text-sm font-medium transition-all;
}

.btn-pill-active {
  background-color: var(--celestial-400);
  color: white;
  box-shadow: 0 4px 12px rgba(91, 155, 158, 0.3);
}

.btn-pill-inactive {
  background-color: var(--background-elevated);
  color: var(--foreground-muted);
  border: 1px solid var(--border);
}

.btn-pill-inactive:hover {
  border-color: var(--celestial-400);
  color: var(--foreground);
}

/* Icon buttons */
.btn-icon {
  @apply p-2 rounded-lg transition-colors;
  color: var(--foreground-muted);
}

.btn-icon:hover {
  background-color: var(--hover-overlay);
  color: var(--foreground);
}

.btn-icon-sm {
  @apply p-1.5 rounded-lg transition-colors;
  color: var(--foreground-muted);
}

.btn-icon-sm:hover {
  background-color: var(--hover-overlay);
  color: var(--foreground);
}

/* Gold/Achievement button variant */
.btn-gold {
  @apply px-4 py-2 rounded-lg font-medium transition-all inline-flex items-center gap-2 text-white;
  background: var(--gradient-gold-shimmer);
  box-shadow: 0 4px 12px rgba(212, 168, 83, 0.3);
}

.btn-gold:hover {
  box-shadow: 0 6px 16px rgba(212, 168, 83, 0.4);
}

/* Celestial button variant */
.btn-celestial {
  @apply px-4 py-2 rounded-lg font-medium transition-all inline-flex items-center gap-2 text-white;
  background-color: var(--celestial-500);
}

.btn-celestial:hover {
  background-color: var(--celestial-600);
}

/* -----------------------------------------------------------------------------
   CARDS
   ----------------------------------------------------------------------------- */

.card {
  @apply rounded-xl;
  background-color: var(--background-elevated);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}

.card-elevated {
  @apply rounded-xl;
  background-color: var(--background-elevated);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-lg);
}

.card-cosmic {
  @apply rounded-xl;
  background: var(--gradient-nebula);
  border: 1px solid var(--border-subtle);
  backdrop-filter: blur(8px);
}

.card-section {
  @apply p-4;
  border-bottom: 1px solid var(--border);
}

.card-body {
  @apply p-4;
}

.card-header {
  @apply p-4 flex items-center justify-between;
  border-bottom: 1px solid var(--border);
}

/* List item variant */
.list-item {
  @apply flex items-center justify-between gap-3 p-3 rounded-lg transition-colors;
}

.list-item:hover {
  background-color: var(--hover-overlay);
}

.list-item-clickable {
  @apply flex items-center justify-between gap-3 p-3 rounded-lg transition-colors cursor-pointer;
}

.list-item-clickable:hover {
  background-color: var(--hover-overlay);
}

/* -----------------------------------------------------------------------------
   INPUTS
   ----------------------------------------------------------------------------- */

.input {
  @apply w-full px-3 py-2 rounded-lg outline-none transition-all;
  background-color: var(--background-elevated);
  border: 1px solid var(--border);
  color: var(--foreground);
}

.input:focus {
  border-color: var(--celestial-400);
  box-shadow: 0 0 0 3px rgba(91, 155, 158, 0.15);
}

.input::placeholder {
  color: var(--foreground-muted);
}

.input-sm {
  @apply px-2.5 py-1.5 text-sm rounded-lg outline-none;
  background-color: var(--background-elevated);
  border: 1px solid var(--border);
}

.input-sm:focus {
  border-color: var(--celestial-400);
  box-shadow: 0 0 0 2px rgba(91, 155, 158, 0.15);
}

.textarea {
  @apply w-full px-3 py-2 rounded-lg outline-none transition-all min-h-[100px] resize-y;
  background-color: var(--background-elevated);
  border: 1px solid var(--border);
  color: var(--foreground);
}

.textarea:focus {
  border-color: var(--celestial-400);
  box-shadow: 0 0 0 3px rgba(91, 155, 158, 0.15);
}

.select {
  @apply w-full px-3 py-2 rounded-lg outline-none transition-all appearance-none cursor-pointer;
  background-color: var(--background-elevated);
  border: 1px solid var(--border);
  color: var(--foreground);
}

.select:focus {
  border-color: var(--celestial-400);
  box-shadow: 0 0 0 3px rgba(91, 155, 158, 0.15);
}

.input-label {
  @apply block text-sm font-medium mb-1;
  color: var(--foreground);
}

.input-error {
  border-color: var(--error) !important;
}

.input-error:focus {
  box-shadow: 0 0 0 3px rgba(212, 138, 138, 0.15) !important;
}

/* -----------------------------------------------------------------------------
   TYPOGRAPHY
   ----------------------------------------------------------------------------- */

.text-muted {
  color: var(--foreground-muted);
}

.text-heading {
  color: var(--foreground);
}

.heading-xl {
  @apply text-3xl font-bold;
  color: var(--foreground);
}

.heading-lg {
  @apply text-2xl font-bold;
  color: var(--foreground);
}

.heading-md {
  @apply text-xl font-semibold;
  color: var(--foreground);
}

.heading-sm {
  @apply text-lg font-semibold;
  color: var(--foreground);
}

.section-label {
  @apply text-xs font-semibold uppercase tracking-wider;
  color: var(--foreground-muted);
}

.link {
  color: var(--celestial-400);
  transition: color 0.15s;
}

.link:hover {
  color: var(--celestial-500);
}

/* Accent text colors */
.text-celestial {
  color: var(--celestial-400);
}

.text-ember-gold {
  color: var(--ember-gold-400);
}

.text-cosmic-rust {
  color: var(--cosmic-rust-500);
}

.text-success {
  color: var(--success);
}

.text-warning {
  color: var(--warning);
}

.text-error {
  color: var(--error);
}

/* -----------------------------------------------------------------------------
   LAYOUT
   ----------------------------------------------------------------------------- */

.page-container {
  @apply min-h-screen;
  background-color: var(--background);
}

.page-content {
  @apply max-w-7xl mx-auto px-4 py-8;
}

.section-header {
  @apply flex items-center justify-between mb-6;
}

.flex-center {
  @apply flex items-center justify-center;
}

.flex-between {
  @apply flex items-center justify-between;
}

/* Stack layouts */
.stack {
  @apply flex flex-col gap-4;
}

.stack-sm {
  @apply flex flex-col gap-2;
}

.stack-lg {
  @apply flex flex-col gap-6;
}

/* -----------------------------------------------------------------------------
   BADGES & TAGS
   ----------------------------------------------------------------------------- */

.badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
}

.badge-celestial {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  background-color: var(--celestial-100);
  color: var(--celestial-700);
}

.dark .badge-celestial {
  background-color: rgba(91, 155, 158, 0.2);
  color: var(--celestial-300);
}

.badge-gold {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  background-color: var(--ember-gold-100);
  color: var(--ember-gold-700);
}

.dark .badge-gold {
  background-color: rgba(212, 168, 83, 0.2);
  color: var(--ember-gold-300);
}

.badge-rust {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  background-color: var(--cosmic-rust-100);
  color: var(--cosmic-rust-700);
}

.dark .badge-rust {
  background-color: rgba(184, 106, 75, 0.2);
  color: var(--cosmic-rust-300);
}

.badge-purple {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  background-color: var(--nebula-purple-light);
  color: var(--nebula-purple);
}

.dark .badge-purple {
  background-color: rgba(156, 143, 184, 0.2);
  color: var(--nebula-purple-light);
}

.badge-success {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  background-color: var(--success-light);
  color: var(--success-dark);
}

.dark .badge-success {
  background-color: rgba(111, 143, 115, 0.2);
  color: var(--success);
}

/* Legacy badge names for compatibility */
.badge-blue { @apply badge-celestial; }
.badge-green { @apply badge-success; }
.badge-ember { @apply badge-celestial; }

/* Tag pills (removable) */
.tag {
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium;
  background-color: var(--background-secondary);
  color: var(--foreground-muted);
}

/* -----------------------------------------------------------------------------
   MODAL & OVERLAY
   ----------------------------------------------------------------------------- */

.modal-backdrop {
  @apply fixed inset-0 z-50 flex items-center justify-center p-4;
  background-color: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
}

.modal-content {
  @apply w-full max-w-2xl max-h-[90vh] rounded-2xl flex flex-col overflow-hidden;
  background-color: var(--background-elevated);
  box-shadow: var(--shadow-lg);
}

/* -----------------------------------------------------------------------------
   SIDE PANEL (Luna)
   ----------------------------------------------------------------------------- */

.side-panel-backdrop {
  @apply fixed inset-0 z-40;
  background-color: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(4px);
}

.side-panel {
  @apply fixed right-0 top-0 z-50 h-full w-full max-w-md flex flex-col;
  background-color: var(--background-elevated);
  box-shadow: var(--shadow-lg);
}

/* Animation classes */
@keyframes slideInFromRight {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

.animate-slide-in-right {
  animation: slideInFromRight 0.3s ease-out;
}

@media (prefers-reduced-motion: reduce) {
  .animate-slide-in-right {
    animation: none;
  }
}

/* -----------------------------------------------------------------------------
   KID ACCENT COLOR UTILITIES
   Use --kid-accent CSS variable set in the kid layout for personalized colors
   ----------------------------------------------------------------------------- */

.kid-accent-bg {
  background-color: var(--kid-accent, var(--celestial-400));
}

.kid-accent-text {
  color: var(--kid-accent, var(--celestial-400));
}

.kid-accent-border {
  border-color: var(--kid-accent, var(--celestial-400));
}

.kid-accent-ring {
  --tw-ring-color: var(--kid-accent, var(--celestial-400));
}

/* Gradient variants using kid accent */
.kid-accent-gradient {
  background: linear-gradient(135deg, var(--kid-accent, var(--celestial-400)), var(--kid-accent-light, var(--celestial-200)));
}

/* Hover states */
.hover\:kid-accent-bg:hover {
  background-color: var(--kid-accent, var(--celestial-400));
}

.hover\:kid-accent-text:hover {
  color: var(--kid-accent, var(--celestial-400));
}

/* -----------------------------------------------------------------------------
   BRAND THEME UTILITIES
   ----------------------------------------------------------------------------- */

/* Gradients */
.bg-brand-gradient {
  background: linear-gradient(135deg, var(--nebula-purple), var(--cosmic-rust-500));
}

.text-brand-gradient {
  background: linear-gradient(to right, var(--nebula-purple), var(--nebula-purple-light), var(--cosmic-rust-400));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}

.bg-galaxy-gradient {
  background: linear-gradient(to bottom right, var(--night-900), var(--night-700), var(--night-800));
}

/* Glassmorphism */
.glass-panel {
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-panel-dark {
  background-color: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* -----------------------------------------------------------------------------
   PROGRESS & GAMIFICATION
   ----------------------------------------------------------------------------- */

.progress-bar {
  @apply h-2 rounded-full overflow-hidden;
  background-color: var(--background-secondary);
}

.progress-bar-fill {
  @apply h-full rounded-full transition-all duration-500;
  background: var(--gradient-aurora);
}

.progress-bar-gold {
  @apply h-full rounded-full transition-all duration-500;
  background: var(--gradient-gold-shimmer);
}

/* XP/Moon counter styling */
.moon-counter {
  @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full font-semibold;
  background: linear-gradient(135deg, rgba(212, 168, 83, 0.15), rgba(212, 168, 83, 0.05));
  color: var(--ember-gold-400);
  border: 1px solid rgba(212, 168, 83, 0.3);
}

.dark .moon-counter {
  background: linear-gradient(135deg, rgba(212, 168, 83, 0.2), rgba(212, 168, 83, 0.1));
}

/* Streak badge styling */
.streak-badge {
  @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full font-semibold;
  background: linear-gradient(135deg, rgba(184, 106, 75, 0.15), rgba(184, 106, 75, 0.05));
  color: var(--cosmic-rust-500);
  border: 1px solid rgba(184, 106, 75, 0.3);
}

.dark .streak-badge {
  background: linear-gradient(135deg, rgba(184, 106, 75, 0.2), rgba(184, 106, 75, 0.1));
}

/* Achievement card */
.achievement-card {
  @apply rounded-xl p-4 text-center;
  background: var(--gradient-nebula);
  border: 1px solid var(--border);
}

.achievement-card:hover {
  border-color: var(--ember-gold-400);
  box-shadow: var(--shadow-glow);
}

/* -----------------------------------------------------------------------------
   DIVIDERS
   ----------------------------------------------------------------------------- */

.divider {
  @apply w-full h-px;
  background-color: var(--divider);
}

.divider-vertical {
  @apply w-px h-full;
  background-color: var(--divider);
}

/* -----------------------------------------------------------------------------
   SCROLLBAR STYLING (Dark mode optimized)
   ----------------------------------------------------------------------------- */

.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--slate-400);
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: var(--slate-300);
}
